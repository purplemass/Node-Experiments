<html>
<head>
<script type="text/javascript" src="http://127.0.0.1:8080/socket.io/socket.io.js"></script> 
<script type="text/javascript">

// -------------------------------------------------------------


WEB_SOCKET_SWF_LOCATION = 'http://127.0.0.1:8080/socket.io/WebSocketMain.swf';

/* var socket = new io.Socket('127.0.0.1', {port: 8080, rememberTransport: false}); */
var socket = new io.Socket(null, {port: 8080, rememberTransport: false});

// -------------------------------------------------------------

// doesn't work:
//var socket = new io.Socket();
//var socket = new io.Socket(null);
//var socket = new io.Socket('127.0.0.1');
/* var socket = new io.Socket('127.0.0.1:8080'); */

// -------------------------------------------------------------

function connect() {
	socket.connect();
}

function disconnect() {
	socket.disconnect();
}

function say_hi(){
	socket.send('CLIENT: hi!');
}

socket.on('connect', function(){
	socket.send('CLIENT: connected!');
}) 

socket.on('message', function(data){
	log('[message]' + data);
}) 

/*
socket.on('bob', function(data){
	console.log('client says: bob is ' + data);
}) 
*/

socket.on('disconnect', function(){
	log('disconnect');
}) 

// -------------------------------------------------------------

function log(msg){
	console.log('CLIENT: ' + msg);
}

// -------------------------------------------------------------


</script> 
</head>
<body>
<a href="#" onClick="connect()">Connect</a>
<br />
<a href="#" onClick="disconnect()">Disconnect</a>
<br />
<a href="#" onClick="say_hi()">Say Hi()</a>
</body>
</html>